
1. 법률 수준 : 어떤 정부들은 애플리케이션을 배포하게 될 대상 국가 내에 데이터가 보관되기를 원합니다.
	     ex) 프랑스의 데이터는 프랑스에 있어야 한다. 
2. 지연 시간(latency) : 대부분 사용자가 미국인이라면 애플리케이션 역시 사용자와 가까이 있는 미국에 출시하는게 바람직합니다.

3. 리전에 사용하려는 서비스가 있는지 : 모든 리전이 모든 서비스를 가지고 있지 않습니다 따라서 자신이 사용하려는 서비스가 해당 리전에 있는지 여부를 확인하는게 바람직합니다.
4. 요금 : 리전마다 요금이 달라서 요금을 확인하는 것이 중요합니다.

5. 가용 영역(Availability Zones) : 가용 영역은 리전 내에 존재합니다. 보통 3개, 최소 2개, 많이는 6개
    리전이 동일해도 다른 가용 영역에 AWS 서비스를 각각 배치했다면 물리적으로는 복수의 데이터센터를 사용하는 것


IAM : Users & Groups 사용자의 접근 권한을 관리하는 서비스

IAM = Identity and Access Management, Global service
Root계정은 계정을 만들 때 생성되지만 앞으로 사용하지말고 공유하지말자!
그룹은 사용자만 배치할 수 있습니다(다른 그룹은 포함시킬 수 없습니다.)
그룹에 포함되지 않은 사용자가 있을 수 있습니다.
한 사용자가 다수의 그룹에 속할 수 있습니다.

AWS 계정을 사용하도록 허용하기 위해서 IAM을 사용
AWS는 최소권한의 원칙을 사용해서 사용자가 꼭 필요로 하는 것 이상의 권한은 주지 않습니다.

IAM 기능
1. 사용자 생성 / 관리 / 계정의 보안
	- 사용자의 패스워드 정책 관리 (일정 시간마다 pw 변경 등)

2. AWS 계정에 대한 공유 엑세스 : AWS 계정의 리소스 관리 및 권한을 다른 사람에게 부여가능

3. 세분화된 권한 : 리소스에 따라 여러 사람에게 다양한 권한 부여 가능
	- 일부 사용자에게는 EC2 전체 액세스 권한, 일부에게는 S3 읽기전용 권한, 일부에게는 결제 정보에만 엑세스 할 수 있는 권한
	
4. EC2 애플리케이션 권한 자격 부여 (IAM 역할 사용) : 사용자 뿐만 아니라, EC2에서 실행되는 어플리케이션에 IAM 기능을 이용해 자격증명 제공이 가능하다.
	- 예를 들어 어느어느 EC2가 S3 버킷이나 DynamoDB 테이블에 접근할 수 있는 엑세스 권한을 지니도록 할 수 있다.

5. 멀티 팩터 인증 (MFA) : 보한강화를 위해 암호와  액세스 키뿐 아니라 특별히 구성된 디바이스 코드를 제공하는 인증을 추가할 수 있다.

6. 자격증명 연동 : 기업 네트워크, 인터넷 자격 증명 공급자 같이 다른 곳에 이미 암호가 있는 사용자에게 AWS 계정에 대한 임시 엑세스 권한 부여 가능

7. 계정에 별명 부여 가능 (로그인 주소 생성가능)

8. 글로벌 서비스 (리전 서비스 X) : AWS의 계정은 전세계에서 유니크하다.

IAM 구성 요소
사용자(Users), 그룹(Group), 역할(Roles), 정책(Policies)으로 구성되어 있다.

- IAM 사용자(Users)
	실제 AWS의 기능과 자원을 이용하는 사람 혹은 애플리케이션을 의미
	사용자(사람)가 AWS 서비스를 엑세스하는걸 조정하는 것 뿐만 아니라, 어플리케이션이 서비스에 엑세스 하는걸 관리


- IAM 그룹(Groups)
	사용자가 얼마 없을 때는 직접 사용자에게 권한을 설정하는 것이 더 직관적이고 편할 수 있지만 사용자가 많은 경우 관리하기 불편하다 따라서 그룹이라는 개념을 사용한다.
	다수의 사용자를 모아놓은 개념
	하나의 그룹에 여러명의 사용자를 지정해서 공통적으로 권한을 주어야 하는 상황일 때 유용
	그룹은 동일한 권한을 가지는 사용자에게 권한을 설정하는 것을 편리하게 하기 위함이지, 그룹 자체가 보안 주체가 될 수는 없다.
	하나의 사용자는 최대 10개의 그룹에 속할 수 있다.

- IAM 정책 (Policy)
	사용자와 그룹, 역할이 무엇을 할 수 있는지에 대한 permission 설정 모음 데이터 문서
	하나 이상의 AWS 리소스에 대한 어떤 작업을 수행할 수 있는지 허용 규칙을 JSON 형식으로 작성된다.
	(어떤 유저는 인스턴스를 올릴 수 있는데 삭제를 못하거나, 버킷에 접근은 가능한데 파일을 추가할 수 없거나... 등)
	이렇게 만들어진 정책 문서를 IAM 사용자와 그룹, 역할에 연결한다.
	

MFA(다중 인증) : 2개 이상의 인증을 받아야하는 액세스 제어 방식
	

MFA 디바이스 유형

1. Virtual MFA device
	- Google Authenticator (하나의 휴대전화에서만 사용 가능)
	- Authy (여러 장치에서 사용 가능 그래서 컴퓨터와 휴대전화를 같이 사용할 수 있기 때문에 선호도가 높음)

2. U2F 보안 키
	- 물리적 장치를 통한 인증
	- Yubico사의 YubiKey
	- 한 개의 U2F 보안 키로 여러 계정에 대한 인증을 수행할 수 있음

3. 다른 하드웨어 MFA 디바이스
	- 하드웨어 기반의 인증방식은 OTP, 보안카드와 같이 탈취의 위험성이 크다는 것이 단점


사용자가 AWS에 접근할 수 있는 3가지 방법

1. AWS Management Console(웹사이트) : password와 MFA를 통해서 보호됨

2. AWS Command Line Interface(CLI) : Access keys를 통해서 보호됨

3. AWS Software Developers Kit(SDK) : Access keys를 통해서 보호됨

Access Keys는 AWS Console을 통해서 생성할 수 있음

사용자들은 자신들의 액세스 키를 직접 관리함